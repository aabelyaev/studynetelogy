# Домашнее задание к занятию 4 «Оркестрация группой Docker контейнеров на примере Docker Compose»
<image src="1.png">


## Задние 1
2. В каком terraform-файле, согласно этому .gitignore, допустимо сохранить личную, секретную информацию?
personal.auto.tfvars.
3. "result": "QZspKdczy7pF94q1"
4. На 23 и 29 строчке не хватало name
Переменная "random_password.random_string_FAKE.resulT" используется неправильно в блоке "docker_container". Переменная "random_password.random_string" должна быть использована без добавления "FAKE.resulT" в конце.
Необходимо определить ресурс образа Docker, прежде чем использовать его в определении ресурса docker_container.
5. 
<image src="2.png">
<image src="3.png">
6. Ключ -auto-approve в команде Terraform применяется для автоматического утверждения всех изменений, без запроса подтверждения у пользователя. Это может быть удобно в ситуациях, когда вы хотите автоматизировать процесс применения изменений в инфраструктуре, например, в рамках CI/CD пайплайна или скрипта для развертывания инфраструктуры.
Однако использование ключа -auto-approve может быть опасным, так как любые изменения будут применены без возможности проверки пользователя. Это может привести к нежелательным изменениям в инфраструктуре или даже потере данных, если что-то пойдет не так.
Чтобы избежать нежелательных последствий использования ключа -auto-approve, рекомендуется быть предельно внимательным при его применении и тщательно проверять все изменения, которые будут внесены в инфраструктуру Terraform. 
<image src="4.png">
7. 
<image src="5.png">
8. 
<!--После удаления всех ресурсов, docker-образ nginx:latest не удалится автоматически. Это происходит потому, что удаление docker-образов не является частью функционала Terraform. Такое поведение документируется в официальной документации Terraform провайдера docker, где указано, что ресурсы docker_image не будут удалены при выполнении terraform destroy.-->

Причина, по которой образ nginx:latest не был удален, заключается в том, что в файле terraform.tfstate для ресурса docker_image.nginx не установлен атрибут keep в значение false.

Согласно документации Terraform для провайдера Docker:

    keep - (Optional) If set to true, the image will not be deleted when the resource is destroyed. Defaults to false.

Поскольку атрибут keep не установлен в false, образ nginx:latest не будет удален при уничтожении ресурса.

Чтобы удалить образ, необходимо установить атрибут keep в значение false в конфигурации Terraform:

resource "docker_image" "nginx" {
  name  = "nginx"
  keep  = false
}



