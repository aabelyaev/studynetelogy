# Домашнее задание к занятию «Компоненты Kubernetes»

## Задние 1

1. База данных:

Тип: Рекомендуется использовать отказоустойчивую реляционную базу данных, например PostgreSQL или MySQL.
Ресурсы:
ОЗУ: 4 ГБ на копию (12 ГБ всего)
CPU: 1 ядро на копию (3 ядра всего)
Копии: 3
Хранилище: Дополнительно потребуется выделение хранилища для данных базы данных. Объем зависит от объема данных, но для отказоустойчивости рекомендуется использовать PersistentVolume.
Дополнительные настройки:
Replication: Настройка репликации для обеспечения отказоустойчивости.
Backup and Restore: Настройка резервного копирования и восстановления для дополнительной защиты данных.
Monitoring and Alerts: Настройка мониторинга и оповещений о работе базы данных.

2. Система кеширования:

Тип: Рекомендуется использовать отказоустойчивую систему кеширования, например Redis.
Ресурсы:
ОЗУ: 4 ГБ на копию (12 ГБ всего)
CPU: 1 ядро на копию (3 ядра всего)
Копии: 3
Дополнительные настройки:
Replication: Настройка репликации для обеспечения отказоустойчивости.
Persistence: Если необходимо сохранять данные кеша при перезапуске, можно использовать PersistentVolume.
Monitoring and Alerts: Настройка мониторинга и оповещений о работе кеша.

3. Фронтенд:

Тип: Контейнер с фронтенд-приложением (например, Node.js с React, Vue или Angular).
Ресурсы:
ОЗУ: 50 МБ на экземпляр (250 МБ всего)
CPU: 0.2 ядра на экземпляр (1 ядро всего)
Копии: 5
Хранилище: Если фронтенд хранит статику на диске (например, HTML, CSS, JS), то потребуется дополнительное хранилище.

4. Бекенд:

Тип: Контейнер с бекенд-приложением (например, Node.js, Python или Java).
Ресурсы:
ОЗУ: 600 МБ на копию (6 ГБ всего)
CPU: 1 ядро на копию (10 ядер всего)
Копии: 10

5. Дополнительные ресурсы:
Также к этим ресурсам нужно добавить по 1 ядру и 0.5 Gb оперативной памяти для работы операционной системы Linux.

Ingress: Для обеспечения доступа к фронтенду с вне кластера, будет требоваться Ingress контроллер.
Monitoring and Logging: Для мониторинга и журналирования приложения и ресурсов, необходимо использовать системы мониторинга и журналирования (например, Prometheus, Grafana, Jaeger, Elasticsearch).
Дополнительные замечания:

Использование Chart: Helm chart позволяет определить все необходимые ресурсы в одном файле и легко деплоить приложение в разные окружения.
Использование PersistentVolume: Для базы данных и кеша рекомендуется использовать PersistentVolume, чтобы данные сохранялись при перезапуске pods.
Масштабирование: Количество копий для фронта и бека может быть изменено в зависимости от нагрузки на приложение.
Безопасность: Не забывайте о безопасности вашего приложения. Используйте RBAC (Role-Based Access Control) для ограничения доступа к ресурсам Kubernetes.
Важно: Это только пример ресурсов для приложения. Точные ресурсы могут варьироваться в зависимости от конкретных требований и характеристик приложения. Рекомендуется провести тестирование и настройку ресурсов для оптимальной работы приложения в Kubernetes.


1. База данных:

CPU: 3 ядра (3 копии * 1 ядро/копию)
RAM: 12 ГБ (3 копии * 4 ГБ/копию)

2. Кеш:

CPU: 3 ядра (3 копии * 1 ядро/копию)
RAM: 12 ГБ (3 копии * 4 ГБ/копию)

3. Фронтенд:

CPU: 1 ядро (5 копий * 0.2 ядра/копию)
RAM: 250 МБ (5 копий * 50 МБ/копию)

4. Бекенд:

CPU: 10 ядер (10 копий * 1 ядро/копию)
RAM: 6 ГБ (10 копий * 600 МБ/копию)
Итого:

CPU: 17 ядер (3 + 3 + 1 + 10 = 17)
RAM: 30.25 ГБ (12 + 12 + 0.25 + 6 = 30.25)
Рекомендации по нодам:

Количество нод: Рекомендуется использовать минимум 2 ноды для обеспечения высокой доступности и отказоустойчивости.
Ресурсы нод:
ОЗУ: Учитывая итоговое потребление RAM (30.25 ГБ), рекомендуется выделить минимум 32 ГБ ОЗУ на каждую ноду.
CPU: Учитывая итоговое потребление CPU (17 ядер), рекомендуется выделить минимум 2 или 4 ядра на каждую ноду, в зависимости от требований к производительности.
Хранилище: Дополнительно необходимо выделить хранилище для базы данных и кеша, а также для других данных приложения.


